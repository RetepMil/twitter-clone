{"version":3,"sources":["components/Navigation.js","fbase.js","routes/Auth.js","components/Jjik.js","routes/Home.js","routes/Profile.js","components/Router.js","components/App.js","index.js"],"names":["Naviation","to","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","authService","auth","firebaseInstance","dbService","firestore","Auth","useState","email","setEmail","password","setPassword","newAccount","setnewAccount","error","setError","onChange","event","target","name","value","onSubmit","a","preventDefault","createUserWithEmailAndPassword","data","signInWithEmailAndPassword","console","log","message","onSocialClick","provider","GoogleAuthProvider","GithubAuthProvider","signInWithPopup","type","placeholder","required","onClick","prev","Jjik","jjikObj","isOwner","editing","setEditing","text","newJjik","setnewJjik","onDeleteClick","window","confirm","doc","id","delete","toggleEditing","update","Home","userObj","jjik","setJjik","jjiks","setjjiks","useEffect","collection","onSnapshot","snapshot","jjikArray","docs","map","add","createdAt","Date","now","createrId","uid","maxLength","Profile","history","useHistory","signOut","push","AppRouter","isLoggedIn","Navigation","exact","path","App","init","setInit","setuserObj","onAuthStateChanged","user","Boolean","getFullYear","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kMAeeA,EAbG,kBAChB,8BACE,+BACE,6BACE,cAAC,IAAD,CAAMC,GAAG,IAAT,oBAEF,6BACE,cAAC,IAAD,CAAMA,GAAG,WAAT,gC,iDCKRC,IAASC,cATc,CACrBC,OAAQC,0CACRC,WAAYD,sCACZE,UAAWF,sBACXG,cAAeH,kCACfI,kBAAmBJ,eACnBK,MAAOL,8CAKF,IAAMM,EAAcT,IAASU,OACvBC,EAAmBX,IACnBY,EAAYZ,IAASa,YCoEnBC,EAnFF,WACX,MAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAgCF,mBAAS,IAAzC,mBAAOG,EAAP,KAAiBC,EAAjB,KACA,EAAoCJ,oBAAS,GAA7C,mBAAOK,EAAP,KAAmBC,EAAnB,KACA,EAA0BN,mBAAS,IAAnC,mBAAOO,EAAP,KAAcC,EAAd,KACMC,EAAW,SAACC,GAChB,MAEIA,EADFC,OAAUC,EADZ,EACYA,KAAMC,EADlB,EACkBA,MAEL,UAATD,EAAkBV,EAASW,GACb,aAATD,GAAqBR,EAAYS,IAEtCC,EAAQ,uCAAG,WAAOJ,GAAP,eAAAK,EAAA,kEAGbL,EAAMM,kBACFX,EAJS,gCAKEX,EAAYuB,+BACvBhB,EACAE,GAPS,OAKXe,EALW,+CAUExB,EAAYyB,2BAA2BlB,EAAOE,GAVhD,QAUXe,EAVW,eAYbE,QAAQC,IAAIH,GAZC,kDAcbV,EAAS,KAAMc,SAdF,0DAAH,sDAoBRC,EAAa,uCAAG,WAAOb,GAAP,mBAAAK,EAAA,4DAKP,YAHDH,EACRF,EADFC,OAAUC,MAIVY,EAAW,IAAI5B,EAAiBD,KAAK8B,mBACnB,WAATb,IACTY,EAAW,IAAI5B,EAAiBD,KAAK+B,oBARnB,SAUDhC,EAAYiC,gBAAgBH,GAV3B,OAUdN,EAVc,OAWpBE,QAAQC,IAAIH,GAXQ,2CAAH,sDAcnB,OACE,gCACE,uBAAMJ,SAAUA,EAAhB,UACE,uBACEL,SAAUA,EACVG,KAAK,QACLgB,KAAK,QACLC,YAAY,QACZC,UAAQ,EACRjB,MAAOZ,IAET,uBACEQ,SAAUA,EACVG,KAAK,WACLgB,KAAK,WACLC,YAAY,WACZC,UAAQ,EACRjB,MAAOV,IAET,uBAAOyB,KAAK,SAASf,MAAOR,EAAa,iBAAmB,WAC3DE,KAEH,uBAAMwB,QAvCY,WACpBzB,GAAc,SAAC0B,GAAD,OAAWA,MAsCvB,UACG3B,EAAa,UAAY,iBAAkB,OAE9C,gCACE,wBAAQ0B,QAASR,EAAeX,KAAK,SAArC,kCAGA,wBAAQmB,QAASR,EAAeX,KAAK,SAArC,yC,QClBOqB,EAzDF,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,QAASC,EAAc,EAAdA,QACvB,EAA8BnC,oBAAS,GAAvC,mBAAOoC,EAAP,KAAgBC,EAAhB,KACA,EAA8BrC,mBAASkC,EAAQI,MAA/C,mBAAOC,EAAP,KAAgBC,EAAhB,KAEMC,EAAa,uCAAG,sBAAA1B,EAAA,0DACT2B,OAAOC,QAAQ,8CADN,gCAEN9C,EAAU+C,IAAV,gBAAuBV,EAAQW,KAAMC,SAF/B,2CAAH,qDAKbC,EAAgB,kBAAMV,GAAW,SAACL,GAAD,OAAWA,MAC5ClB,EAAQ,uCAAG,WAAOJ,GAAP,SAAAK,EAAA,6DACfL,EAAMM,iBADS,SAETnB,EAAU+C,IAAV,gBAAuBV,EAAQW,KAAMG,OAAO,CAChDV,KAAMC,IAHO,OAKfF,GAAW,GALI,2CAAH,sDAcd,OACE,8BACGD,EACCD,GACE,qCACE,uBAAMrB,SAAUA,EAAhB,UACE,uBACEc,KAAK,OACLC,YAAY,iBACZhB,MAAO0B,EACP9B,SAjBG,SAACC,GAChB,IACYG,EACRH,EADFC,OAAUE,MAEZ2B,EAAW3B,IAcCiB,UAAQ,IAEV,uBAAOF,KAAK,SAASf,MAAM,mBAE7B,wBAAQkB,QAASgB,EAAjB,uBAIJ,qCACE,6BAAKb,EAAQI,OACZH,GACC,qCACE,wBAAQJ,QAASU,EAAjB,yBACA,wBAAQV,QAASgB,EAAjB,8BAvBAb,EAAQW,KCgCPI,EAxDF,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACd,EAAwBlD,mBAAS,IAAjC,mBAAOmD,EAAP,KAAaC,EAAb,KACA,EAA0BpD,mBAAS,IAAnC,mBAAOqD,EAAP,KAAcC,EAAd,KAEAC,qBAAU,WACR1D,EAAU2D,WAAW,SAASC,YAAW,SAACC,GACxC,IAAMC,EAAYD,EAASE,KAAKC,KAAI,SAACjB,GAAD,oBAClCC,GAAID,EAAIC,IACLD,EAAI1B,WAEToC,EAASK,QAEV,IAEH,IAAM7C,EAAQ,uCAAG,WAAOJ,GAAP,SAAAK,EAAA,6DACfL,EAAMM,iBADS,SAETnB,EAAU2D,WAAW,SAASM,IAAI,CACtCxB,KAAMa,EACNY,UAAWC,KAAKC,MAChBC,UAAWhB,EAAQiB,MALN,OAOff,EAAQ,IAPO,2CAAH,sDAiBd,OACE,gCACE,uBAAMtC,SAAUA,EAAhB,UACE,uBACED,MAAOsC,EACP1C,SAZS,SAACC,GAChB,IACYG,EACRH,EADFC,OAAUE,MAEZuC,EAAQvC,IASFe,KAAK,OACLC,YAAY,oEACZuC,UAAW,MAEb,uBAAOxC,KAAK,SAASf,MAAM,YAE7B,8BACGwC,EAAMQ,KAAI,SAACV,GAAD,OACT,cAAC,EAAD,CAEEjB,QAASiB,EACThB,QAASgB,EAAKe,YAAchB,EAAQiB,KAF/BhB,EAAKN,aCjCPwB,EAbC,WACd,IAIMC,EAAUC,cAChB,OACE,mCACE,wBAAQxC,QAPU,WACpBrC,EAAY8E,UACZF,EAAQG,KAAK,MAKX,wBCqBSC,EA1BG,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,WAAYzB,EAAc,EAAdA,QAC/B,OACE,eAAC,IAAD,WACGyB,GAAc,cAACC,EAAD,IACf,cAAC,IAAD,UACGD,EACC,qCACE,cAAC,IAAD,CAAOE,OAAK,EAACC,KAAK,IAAlB,SACE,cAAC,EAAD,CAAM5B,QAASA,MAEjB,cAAC,IAAD,CAAO2B,OAAK,EAACC,KAAK,WAAlB,SACE,cAAC,EAAD,SAIJ,mCACE,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,IAAlB,SACE,cAAC,EAAD,cCCCC,MArBf,WACE,MAAwB/E,oBAAS,GAAjC,mBAAOgF,EAAP,KAAaC,EAAb,KACA,EAA8BjF,mBAAS,MAAvC,mBAAOkD,EAAP,KAAgBgC,EAAhB,KAOA,OANA3B,qBAAU,WACR7D,EAAYyF,oBAAmB,SAACC,GAC1BA,GAAMF,EAAWE,GACrBH,GAAQ,QAET,IAED,qCACGD,EACC,cAAC,EAAD,CAAWL,WAAYU,QAAQnC,GAAUA,QAASA,IAElD,kBAEF,4CAAgB,IAAIc,MAAOsB,cAA3B,yBChBNC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.9c906492.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\";\n\nconst Naviation = () => (\n  <nav>\n    <ul>\n      <li>\n        <Link to=\"/\">Home</Link>\n      </li>\n      <li>\n        <Link to=\"/profile\">My Profile</Link>\n      </li>\n    </ul>\n  </nav>\n);\n\nexport default Naviation;\n","import firebase from \"firebase/compat/app\";\nimport \"firebase/compat/auth\";\nimport \"firebase/compat/firestore\";\nimport \"firebase/firestore\";\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGIN_ID,\n  appId: process.env.REACT_APP_APP_ID,\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nexport const authService = firebase.auth();\nexport const firebaseInstance = firebase;\nexport const dbService = firebase.firestore();\n","import { authService, firebaseInstance } from \"fbase\";\nimport React, { useState } from \"react\";\n\nconst Auth = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [newAccount, setnewAccount] = useState(true);\n  const [error, setError] = useState(\"\");\n  const onChange = (event) => {\n    const {\n      target: { name, value },\n    } = event;\n    if (name === \"email\") setEmail(value);\n    else if (name === \"password\") setPassword(value);\n  };\n  const onSubmit = async (event) => {\n    try {\n      let data;\n      event.preventDefault();\n      if (newAccount) {\n        data = await authService.createUserWithEmailAndPassword(\n          email,\n          password\n        );\n      } else {\n        data = await authService.signInWithEmailAndPassword(email, password);\n      }\n      console.log(data);\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n  const toggleAccount = () => {\n    setnewAccount((prev) => !prev);\n  };\n  const onSocialClick = async (event) => {\n    const {\n      target: { name },\n    } = event;\n    let provider;\n    if (name === \"google\") {\n      provider = new firebaseInstance.auth.GoogleAuthProvider();\n    } else if (name === \"github\") {\n      provider = new firebaseInstance.auth.GithubAuthProvider();\n    }\n    const data = await authService.signInWithPopup(provider);\n    console.log(data);\n  };\n\n  return (\n    <div>\n      <form onSubmit={onSubmit}>\n        <input\n          onChange={onChange}\n          name=\"email\"\n          type=\"email\"\n          placeholder=\"Email\"\n          required\n          value={email}\n        />\n        <input\n          onChange={onChange}\n          name=\"password\"\n          type=\"password\"\n          placeholder=\"Password\"\n          required\n          value={password}\n        />\n        <input type=\"submit\" value={newAccount ? \"Create Account\" : \"Log In\"} />\n        {error}\n      </form>\n      <span onClick={toggleAccount}>\n        {newAccount ? \"Sign In\" : \"Create Account\"}{\" \"}\n      </span>\n      <div>\n        <button onClick={onSocialClick} name=\"google\">\n          Continue with Google\n        </button>\n        <button onClick={onSocialClick} name=\"github\">\n          Continue with Github\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Auth;\n","import { dbService } from \"fbase\";\nimport React, { useState } from \"react\";\n\nconst Jjik = ({ jjikObj, isOwner }) => {\n  const [editing, setEditing] = useState(false);\n  const [newJjik, setnewJjik] = useState(jjikObj.text);\n\n  const onDeleteClick = async () => {\n    const ok = window.confirm(\"Are you sure you want to delete this jjik?\");\n    if (ok) await dbService.doc(`jjiks/${jjikObj.id}`).delete();\n  };\n\n  const toggleEditing = () => setEditing((prev) => !prev);\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    await dbService.doc(`jjiks/${jjikObj.id}`).update({\n      text: newJjik,\n    });\n    setEditing(false);\n  };\n  const onChange = (event) => {\n    const {\n      target: { value },\n    } = event;\n    setnewJjik(value);\n  };\n\n  return (\n    <div key={jjikObj.id}>\n      {editing ? (\n        isOwner && (\n          <>\n            <form onSubmit={onSubmit}>\n              <input\n                type=\"text\"\n                placeholder=\"Edit your jjik\"\n                value={newJjik}\n                onChange={onChange}\n                required\n              />\n              <input type=\"submit\" value=\"Update Jjik\" />\n            </form>\n            <button onClick={toggleEditing}>Cancel</button>\n          </>\n        )\n      ) : (\n        <>\n          <h4>{jjikObj.text}</h4>\n          {isOwner && (\n            <>\n              <button onClick={onDeleteClick}>Delete Jjik</button>\n              <button onClick={toggleEditing}>Edit Jjik</button>\n            </>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Jjik;\n","import { dbService } from \"fbase\";\nimport React, { useEffect, useState } from \"react\";\nimport Jjik from \"components/Jjik\";\n\nconst Home = ({ userObj }) => {\n  const [jjik, setJjik] = useState(\"\");\n  const [jjiks, setjjiks] = useState([]);\n\n  useEffect(() => {\n    dbService.collection(\"jjiks\").onSnapshot((snapshot) => {\n      const jjikArray = snapshot.docs.map((doc) => ({\n        id: doc.id,\n        ...doc.data(),\n      }));\n      setjjiks(jjikArray);\n    });\n  }, []);\n\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    await dbService.collection(\"jjiks\").add({\n      text: jjik,\n      createdAt: Date.now(),\n      createrId: userObj.uid,\n    });\n    setJjik(\"\");\n  };\n\n  const onChange = (event) => {\n    const {\n      target: { value },\n    } = event;\n    setJjik(value);\n  };\n\n  return (\n    <div>\n      <form onSubmit={onSubmit}>\n        <input\n          value={jjik}\n          onChange={onChange}\n          type=\"text\"\n          placeholder=\"하고 싶은 말 여기에 찍쓰!\"\n          maxLength={120}\n        />\n        <input type=\"submit\" value=\"JJik\" />\n      </form>\n      <div>\n        {jjiks.map((jjik) => (\n          <Jjik\n            key={jjik.id}\n            jjikObj={jjik}\n            isOwner={jjik.createrId === userObj.uid}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","import { authService } from \"fbase\";\nimport React from \"react\";\nimport { useHistory } from \"react-router\";\n\nconst Profile = () => {\n  const onLogOutClick = () => {\n    authService.signOut();\n    history.push(\"/\");\n  };\n  const history = useHistory();\n  return (\n    <>\n      <button onClick={onLogOutClick}>Log Out</button>\n    </>\n  );\n};\n\nexport default Profile;\n","import React from \"react\";\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Navigation from \"components/Navigation\";\nimport Auth from \"../routes/Auth\";\nimport Home from \"../routes/Home\";\nimport Profile from \"routes/Profile\";\n\nconst AppRouter = ({ isLoggedIn, userObj }) => {\n  return (\n    <Router>\n      {isLoggedIn && <Navigation />}\n      <Switch>\n        {isLoggedIn ? (\n          <>\n            <Route exact path=\"/\">\n              <Home userObj={userObj} />\n            </Route>\n            <Route exact path=\"/profile\">\n              <Profile />\n            </Route>\n          </>\n        ) : (\n          <>\n            <Route exact path=\"/\">\n              <Auth />\n            </Route>\n          </>\n        )}\n      </Switch>\n    </Router>\n  );\n};\n\nexport default AppRouter;\n","import { useState, useEffect } from \"react\";\nimport AppRouter from \"components/Router\";\nimport { authService } from \"fbase\";\n\nfunction App() {\n  const [init, setInit] = useState(false);\n  const [userObj, setuserObj] = useState(null);\n  useEffect(() => {\n    authService.onAuthStateChanged((user) => {\n      if (user) setuserObj(user);\n      setInit(true);\n    });\n  }, []);\n  return (\n    <>\n      {init ? (\n        <AppRouter isLoggedIn={Boolean(userObj)} userObj={userObj} />\n      ) : (\n        \"Initializing...\"\n      )}\n      <footer>&copy; {new Date().getFullYear()} Twitter-clone </footer>\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}